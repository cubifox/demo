---
layout: default
title: "システム要件図"
description: "TODO APPのシステム要件図 - アーキテクチャ・クラス図・データフロー"
---

# TODO APP システム要件図

## 目次

1. [システム概要](#システム概要)
2. [システム要件](#システム要件)
3. [アーキテクチャ図](#アーキテクチャ図)
4. [クラス図](#クラス図)
5. [データフロー図](#データフロー図)
6. [コンポーネント構成](#コンポーネント構成)

---

## システム概要

TODO APPは、フロントエンド中心のシングルページアプリケーション（SPA）として設計されており、Next.js、React、TypeScript、Tailwind CSSを核技術として構築されています。

### 技術スタック
- **フロントエンド**: Next.js 15.5.2 + React + TypeScript
- **スタイリング**: Tailwind CSS
- **データ保存**: ブラウザローカルストレージ
- **ホスティング**: Vercel（推奨）

---

## システム要件

### 機能要件
- タスクのCRUD操作（作成、読取、更新、削除）
- タスクの完了状態管理
- カテゴリ・優先度・期限による分類機能
- リアルタイムなUI更新

### 非機能要件
- **パフォーマンス**: 1秒以内のレスポンス
- **ユーザビリティ**: 直感的で「ゆめかわいい」UI
- **互換性**: モダンブラウザ対応
- **保守性**: TypeScriptによる型安全性

---

## アーキテクチャ図

```mermaid
graph TB
    subgraph "クライアントサイド"
        User[ユーザー] --> Browser[Webブラウザ]
        Browser --> NextApp[Next.js Application]
        
        subgraph "Next.js Application"
            Router[App Router] --> PageComponent[Page Component]
            PageComponent --> StateManagement[React State]
            StateManagement --> UI[User Interface]
        end
        
        NextApp --> LocalStorage[ローカルストレージ]
        NextApp --> TailwindCSS[Tailwind CSS]
    end
    
    subgraph "開発・デプロイ"
        GitHub[GitHub Repository] --> Vercel[Vercel Platform]
        Vercel --> CDN[Global CDN]
        CDN --> Browser
    end
```

---

## クラス図

```mermaid
classDiagram
    class User {
        +user_id: string
        +user_name: string
        +createTask(task: Task): void
        +updateTask(id: number, task: Task): void
        +deleteTask(id: number): void
        +toggleTaskComplete(id: number): void
    }

    class Task {
        +id: number
        +title: string
        +description: string
        +category: Category
        +priority: Priority
        +deadline: string
        +completed: boolean
        +createdAt: Date
        +updatedAt: Date
        +validate(): boolean
        +toJSON(): object
    }

    class Category {
        +value: string
        +label: string
        +getCategories(): Category[]
        +isValid(category: string): boolean
    }

    class Priority {
        +level: string
        +weight: number
        +color: string
        +getPriorities(): Priority[]
        +compare(other: Priority): number
    }

    class TaskManager {
        +tasks: Task[]
        +addTask(task: Task): void
        +removeTask(id: number): void
        +updateTask(id: number, updates: Partial~Task~): void
        +getTaskById(id: number): Task
        +getTasksByCategory(category: Category): Task[]
        +getTasksByPriority(priority: Priority): Task[]
        +getCompletedTasks(): Task[]
        +getPendingTasks(): Task[]
    }

    class StorageManager {
        +save(key: string, data: any): void
        +load(key: string): any
        +remove(key: string): void
        +clear(): void
        +isAvailable(): boolean
    }

    class UIComponent {
        +render(): JSX.Element
        +handleUserInput(event: Event): void
        +updateState(newState: any): void
    }

    class TaskForm {
        +title: string
        +description: string
        +category: Category
        +priority: Priority
        +deadline: string
        +validate(): boolean
        +reset(): void
        +submit(): void
    }

    class TaskList {
        +tasks: Task[]
        +filter: FilterOptions
        +sort: SortOptions
        +renderTask(task: Task): JSX.Element
        +filterTasks(criteria: FilterOptions): Task[]
        +sortTasks(criteria: SortOptions): Task[]
    }

    %% リレーションシップ
    User "1" -- "*" Task : owns
    Task "*" -- "1" Category : categorized_by
    Task "*" -- "1" Priority : has_priority
    TaskManager "1" -- "*" Task : manages
    TaskManager "1" -- "1" StorageManager : uses
    UIComponent <|-- TaskForm : extends
    UIComponent <|-- TaskList : extends
    TaskForm "1" -- "1" TaskManager : interacts_with
    TaskList "1" -- "1" TaskManager : displays_from
```

---

## データフロー図

```mermaid
flowchart TD
    A[ユーザー入力] --> B{入力検証}
    B -->|有効| C[State更新]
    B -->|無効| D[エラー表示]
    C --> E[UI再レンダリング]
    C --> F[ローカルストレージ保存]
    E --> G[ユーザーに表示]
    F --> H[データ永続化]
    
    I[ページ読み込み] --> J[ローカルストレージ読み取り]
    J --> K{データ存在？}
    K -->|あり| L[State復元]
    K -->|なし| M[初期状態設定]
    L --> E
    M --> E
```

---

## コンポーネント構成

```mermaid
graph TD
    subgraph "Page Level"
        App[TodoApp - メインページ]
    end
    
    subgraph "Container Components"
        TaskFormContainer[TaskForm Container]
        TaskListContainer[TaskList Container]
    end
    
    subgraph "Presentation Components"
        TaskFormInputs[Task Form Inputs]
        TaskItem[Task Item]
        CategorySelector[Category Selector]
        PrioritySelector[Priority Selector]
        DatePicker[Date Picker]
        SubmitButton[Submit Button]
        DeleteButton[Delete Button]
    end
    
    subgraph "State Management"
        TaskState[Tasks State]
        FormState[Form State]
        UIState[UI State]
    end
    
    subgraph "Utils & Services"
        StorageService[Storage Service]
        ValidationUtils[Validation Utils]
        DateUtils[Date Utils]
    end
    
    App --> TaskFormContainer
    App --> TaskListContainer
    App --> TaskState
    
    TaskFormContainer --> TaskFormInputs
    TaskFormContainer --> CategorySelector
    TaskFormContainer --> PrioritySelector
    TaskFormContainer --> DatePicker
    TaskFormContainer --> SubmitButton
    TaskFormContainer --> FormState
    
    TaskListContainer --> TaskItem
    TaskListContainer --> DeleteButton
    TaskListContainer --> TaskState
    
    TaskFormContainer --> StorageService
    TaskListContainer --> StorageService
    TaskFormContainer --> ValidationUtils
    TaskFormContainer --> DateUtils
```

### 主要コンポーネントの責務

#### TodoApp (メインコンポーネント)
- 全体の状態管理
- データの永続化
- 子コンポーネント間の連携

#### TaskForm Container
- フォームの状態管理
- 入力検証
- タスク作成処理

#### TaskList Container
- タスク一覧の表示
- タスク操作（完了/削除）
- フィルタリング・ソート

#### Storage Service
- ローカルストレージとの通信
- データのシリアライズ/デシリアライズ
- エラーハンドリング

---

## システム制約事項

### 技術制約
- JavaScriptが有効である必要がある
- モダンブラウザでの動作を前提
- ローカルストレージの容量制限

### 運用制約
- シングルユーザー使用
- オフライン動作（初回ロード後）
- デバイス間でのデータ同期なし

### セキュリティ考慮事項
- クライアントサイドでのデータ保存
- XSS対策（React標準）
- 入力値のサニタイゼーション